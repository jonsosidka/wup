<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>WUP Draft Assist</title>
    <style>
      html, body, #root { height: 100%; margin: 0; }
      body { font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif; }
    </style>
  </head>
  <body>
    <div id="root">Loading appâ€¦</div>
    <script src="https://cdn.jsdelivr.net/npm/@stlite/browser@latest/build/stlite.js"></script>
    <script>
      (async () => {
        const filePaths = [
          "app.py",
          "data/QB.csv",
          "data/RB.csv",
          "data/WR.csv",
          "data/TE.csv",
          "data/K.csv",
          "data/DST.csv",
        ];

        const entries = await Promise.all(
          filePaths.map(async (path) => {
            const res = await fetch(path);
            if (!res.ok) throw new Error(`Failed to load ${path}: ${res.status}`);
            const text = await res.text();
            return [path, text];
          })
        );
        const files = Object.fromEntries(entries);

        stlite.mount(
          {
            requirements: ["pandas", "numpy"],
            files,
            entrypoint: "app.py",
          },
          document.getElementById("root")
        );
      })().catch((err) => {
        document.getElementById("root").textContent = String(err?.stack || err || "Unknown error");
      });
    </script>
  </body>
  </html>


